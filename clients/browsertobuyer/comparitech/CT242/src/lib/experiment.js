import setup from './services/setup';

import shared from './shared/shared';

const { ID } = shared;

const editorBadgeHtml = `
  <div class="btb-editor-badge">
    <div class="img-wrapper">
        <svg width="104"
             height="22"
             viewBox="0 0 104 22"
             fill="none"
             xmlns="http://www.w3.org/2000/svg">
            <path d="M6.01034 8.43681H7.34502L7.55071 5.76747C6.85275 5.52065 5.92898 5.39813 5.18988 5.39813C1.71606 5.39813 -0.00439453 8.21102 -0.00439453 11.6803C-0.00439453 13.8971 0.981072 16.4019 3.9585 16.4019C5.25204 16.4019 6.19637 16.0527 6.89434 15.6834L7.03786 14.2207C6.29876 14.6106 5.23102 15.001 4.30725 15.001C2.80803 15.001 1.6379 14.0411 1.6379 11.5518C1.6379 8.8002 2.70564 6.68621 5.12818 6.68621C5.45367 6.68499 5.77792 6.72646 6.09262 6.80961L6.01034 8.43135V8.43681ZM7.9118 11.8759C7.9118 14.0356 8.87167 16.4755 11.7714 16.4755C14.8704 16.4755 16.5506 13.7559 16.5506 10.3762C16.5506 8.19595 15.5908 5.75696 12.691 5.75696C9.59203 5.75696 7.9118 8.57716 7.9118 11.8759ZM9.51159 11.9353C9.51159 8.21604 11.1114 7.11587 12.5713 7.11587C13.9105 7.11587 14.9509 8.11596 14.9509 10.2953C14.9509 14.0151 13.3511 15.1148 11.8911 15.1148C10.5519 15.1148 9.51159 14.1151 9.51159 11.9353ZM16.6576 6.99153H18.3319L17.3323 16.4728H18.9229L19.3416 13.8354C19.7813 10.9101 21.8948 7.01256 23.5065 7.01256C24.1345 7.01256 24.4691 7.49386 24.4691 8.79151C24.4691 10.0892 23.7995 15.1541 23.6112 16.4728H25.2018L25.6621 13.6846C26.2106 10.2313 28.3831 7.00799 29.7438 7.00799C30.3929 7.00799 30.6649 7.322 30.6649 8.4935C30.6649 9.85378 30.2046 13.0186 29.7859 16.4677H33.0092L33.1349 15.1491H31.5443C31.8368 12.721 32.256 9.93834 32.256 8.20052C32.256 6.31734 31.5863 5.45895 30.184 5.45895C28.2794 5.45895 26.584 7.69864 25.9149 10.0005L25.8728 9.95846C25.9985 9.45567 26.0611 8.8075 26.0611 8.15845C26.0611 6.8192 25.6425 5.45848 24.1149 5.45848C21.8962 5.45848 20.0126 8.07482 19.343 10.9631L19.3009 10.9211C19.6775 8.63564 19.7822 7.36314 20.0752 5.66782H16.7842L16.6585 6.98651L16.6576 6.99153ZM41.0347 6.86629C41.8556 6.86629 42.2139 7.75075 42.2139 9.28745C42.2139 12.3193 40.8875 15.2661 38.2556 15.2661C37.4347 15.2661 36.761 15.0979 36.4661 14.9461C36.8455 10.5673 39.098 6.86172 41.0347 6.86172V6.86629ZM32.9292 21.6666H37.5353L37.6614 20.3401H35.9771L36.335 16.3818C36.6549 16.4449 37.2194 16.5921 38.1875 16.5921C42.8616 16.5921 43.8928 11.476 43.8928 9.32447C43.8928 7.19813 43.2821 5.30308 41.3034 5.30308C39.1981 5.30308 37.6194 7.24017 36.7349 10.5664L36.6929 10.5243C36.84 8.98761 37.1559 7.26076 37.3245 5.5138H34.0189L33.8928 6.84024H35.5771L34.3814 20.341H33.0559L32.9297 21.6675L32.9292 21.6666ZM52.8553 15.1641C53.0413 12.1931 53.3923 7.56015 53.7022 6.09338H52.9997C52.2889 5.75947 51.5119 5.58995 50.7266 5.59744C49.3837 5.59744 48.0198 5.8662 46.8213 7.0601C45.9328 7.94867 44.9199 10.0147 44.9199 12.8042C44.9199 15.0773 45.8706 16.6679 47.6267 16.6679C50.2302 16.6679 51.4081 13.057 51.9452 11.0888L51.9909 11.1345C51.6188 12.4985 51.351 14.6883 51.2057 16.4655H54.3047L54.4281 15.1637H52.8575L52.8553 15.1641ZM46.5736 12.7873C46.5736 9.99775 47.4206 6.89829 50.4789 6.89829C51.0987 6.89829 51.553 7.0016 51.9667 7.16706C51.6362 10.3698 50.0035 15.1431 47.8136 15.1431C47.0078 15.1431 46.574 14.3579 46.574 12.7878L46.5736 12.7873ZM55.2353 6.95635H56.9187C56.6874 9.88167 56.4982 13.2065 56.0557 16.4897H57.6555C58.4344 9.37659 59.802 6.98238 61.9274 6.98238C62.1802 6.98238 62.4325 7.02444 62.6427 7.06649L62.8955 5.5307C62.6427 5.46763 62.2853 5.42558 61.8643 5.42558C59.6338 5.42558 58.6657 7.40381 58.055 10.3712L58.013 10.3291C58.3329 8.20371 58.4335 6.5628 58.518 5.6363H55.3614L55.2353 6.96182V6.95635ZM63.8339 16.497H67.0824L67.2104 15.1596H65.5969L66.4671 5.54167H63.1337L63.0057 6.8791H64.7042L63.8339 16.497ZM65.957 0C65.6372 0.00379656 65.3316 0.132546 65.1054 0.358713C64.8792 0.58488 64.7505 0.89053 64.7467 1.21036C64.7505 1.53018 64.8792 1.83586 65.1054 2.06203C65.3316 2.2882 65.6372 2.41692 65.957 2.42071C66.2769 2.41692 66.5825 2.2882 66.8087 2.06203C67.0349 1.83586 67.1636 1.53018 67.1674 1.21036C67.1636 0.89053 67.0349 0.58488 66.8087 0.358713C66.5825 0.132546 66.2769 0.00379656 65.957 0ZM69.6283 5.7757H68.1958L68.013 7.8408H69.4299L69.1433 11.5459C69.051 12.3823 68.9983 13.0984 68.9852 13.6942C68.9721 15.5383 69.9106 16.467 71.8008 16.4801C72.6175 16.4801 73.4311 16.3055 74.2416 15.9563L74.4688 13.7335C74.1458 13.8785 73.8297 14.007 73.5204 14.1188C73.2239 14.2407 72.9192 14.3016 72.6062 14.3016C71.9739 14.3147 71.6578 13.9524 71.6578 13.2147C71.6709 12.6284 71.7268 11.9204 71.8255 11.0906L72.1021 7.84535H74.9378L75.1206 5.78025H72.3141L72.5116 3.31019L69.8441 3.51772L69.6366 5.78025L69.6283 5.7757ZM83.1716 13.4195C82.1904 13.9296 81.1181 14.1977 79.9547 14.2239C79.3532 14.237 78.8333 14.0964 78.3951 13.8021C77.9502 13.5339 77.7019 13.0468 77.6501 12.3408C79.8014 12.1512 81.387 11.6606 82.4069 10.869C83.4009 10.0779 83.8979 9.16907 83.8979 8.14246C83.8979 7.40351 83.6364 6.79209 83.1131 6.30819C82.5768 5.85721 81.7267 5.62182 80.5626 5.60201C76.8359 5.70013 74.9396 7.85785 74.8738 12.0752C74.9 15.0505 76.4399 16.5284 79.4935 16.5089C80.7685 16.4958 81.8735 16.2703 82.8087 15.8324L83.1716 13.4195ZM80.1019 7.65246C80.7723 7.66556 81.1123 7.94668 81.1221 8.49579C81.1352 8.94068 80.8998 9.34932 80.4159 9.72169C79.8927 10.1142 78.9709 10.4082 77.6506 10.6039C77.7161 9.77349 77.9483 9.0772 78.3472 8.51499C78.7524 7.95277 79.3375 7.66512 80.1023 7.65201L80.1019 7.65246ZM92.5135 13.5059C91.6654 13.9733 90.8305 14.207 90.0087 14.207C88.2724 14.2204 87.3908 13.2301 87.364 11.236C87.364 10.5412 87.4508 9.94701 87.6245 9.45336C87.7915 8.97251 88.0118 8.58858 88.2855 8.30154C88.5597 8.01449 88.8538 7.80423 89.1676 7.67076C89.4815 7.5571 89.782 7.50025 90.069 7.50025C90.3027 7.50025 90.4798 7.54369 90.6001 7.63053V9.06301H92.8138L93.0643 5.86344C92.2293 5.55628 91.2777 5.40271 90.2093 5.40271C88.6534 5.40271 87.3279 5.90354 86.2327 6.90516C85.1107 7.91988 84.543 9.49252 84.5296 11.6231C84.543 13.3296 84.9872 14.5817 85.862 15.3794C86.7101 16.154 87.852 16.5413 89.2879 16.5413C90.3565 16.5413 91.3415 16.311 92.2429 15.8502L92.5135 13.5059ZM92.7018 2.59257H94.3455L93.5744 12.5858C93.4662 13.9997 93.3138 15.2882 93.1173 16.4513H95.8566C95.9715 15.396 96.1372 14.3646 96.3539 13.3569C96.5769 12.3696 96.9388 11.3719 97.4394 10.3639C97.8356 9.57251 98.2582 8.95698 98.7074 8.51727C99.1471 8.08457 99.5768 7.86822 99.9964 7.86822C100.193 7.86822 100.345 7.9444 100.453 8.09677C100.562 8.25918 100.616 8.55674 100.616 8.98945C100.616 9.55745 100.548 10.3319 100.413 11.3128L99.6622 16.4458H103.822L104.005 14.3249H102.757L103.214 10.6523C103.315 9.84785 103.366 9.0769 103.366 8.33948C103.366 7.74436 103.302 7.25405 103.173 6.86858C103.051 6.48311 102.872 6.1787 102.636 5.95534C102.162 5.54945 101.56 5.35334 100.83 5.36705C98.7537 5.35365 97.2301 6.71988 96.2593 9.46572H96.1779C96.5634 7.95735 96.8001 6.43375 96.8882 4.89491L97.263 0.471728H92.8906L92.7077 2.59257H92.7018Z"
                  fill="#0093D3" />
        </svg>
    </div>
    <div class="badge-title">
        Editorâ€™s choice
    </div>
  </div>
`;

export default () => {
  setup();

  const attachpoint = document.querySelector('.entry-content > ol >li:first-child');

  if (attachpoint && !document.querySelector('.btb-editor-badge')) {
    attachpoint.classList.add(`${ID}-editor-badge`);
    const attachpointContent = attachpoint.innerHTML;

    attachpoint.innerHTML = `<div class="${ID}-originalcontent">${attachpointContent}</div>`;
    attachpoint.insertAdjacentHTML('beforeend', editorBadgeHtml);
  }
};
